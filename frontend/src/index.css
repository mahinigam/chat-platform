@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-black text-mono-text font-sans antialiased overflow-hidden;
  }
}

@layer components {

  /* Cosmic Base */
  .cosmic-noise {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }

  /* Layer 2: Liquid Glass Panel */
  .glass-panel {
    @apply backdrop-blur-xl bg-mono-surface border border-white/5 shadow-glass rounded-xl relative overflow-hidden transition-all duration-500 ease-glass;
    box-shadow:
      0 4px 30px rgba(0, 0, 0, 0.1),
      inset 0 0 20px rgba(255, 255, 255, 0.02);
  }

  /* Adaptive Blur: Stronger on hover/focus */
  .glass-panel:hover,
  .glass-panel:focus-within {
    backdrop-filter: blur(24px);
    box-shadow:
      0 8px 40px rgba(0, 0, 0, 0.2),
      inset 0 0 30px rgba(255, 255, 255, 0.04);
  }

  /* Inner light gradient for glass */
  .glass-panel::after {
    content: '';
    @apply absolute inset-0 rounded-xl pointer-events-none transition-opacity duration-500;
    background: linear-gradient(125deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0) 60%, rgba(255, 255, 255, 0.01) 100%);
  }

  /* Glass Button */
  .btn-glass {
    @apply px-4 py-2 rounded-lg font-medium bg-white/5 border border-white/10 text-mono-text transition-all duration-300 ease-glass disabled:opacity-40 disabled:cursor-not-allowed;
    backdrop-filter: blur(10px);
  }

  .btn-glass:hover {
    @apply bg-white/10 border-white/20;
    backdrop-filter: blur(16px);
    /* Adaptive Blur */
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.05);
  }

  .btn-glass:active {
    @apply scale-95;
  }

  /* Input Glass - Increased opacity for better visibility */
  .input-glass {
    @apply w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-mono-text placeholder-mono-muted focus:outline-none transition-all duration-300 ease-glass;
    backdrop-filter: blur(10px);
  }

  .input-glass:focus {
    @apply bg-white/10 border-white/20;
    backdrop-filter: blur(16px);
    /* Adaptive Blur */
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.03);
  }

  /* Layer 2: Message Tiles (Floating Glass) */
  .message-bubble {
    @apply px-4 py-2.5 rounded-lg max-w-[480px] break-words relative text-[15px] leading-relaxed border border-white/5 shadow-sm transition-all duration-300;
    backdrop-filter: blur(15px);
  }

  .message-bubble:hover {
    backdrop-filter: blur(20px);
    /* Subtle adaptive blur */
  }

  .message-sent {
    @apply bg-white/10 text-white rounded-tr-sm;
    box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.02);
  }

  .message-received {
    @apply bg-black/40 text-mono-text/90 rounded-tl-sm;
    box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.01);
  }

  /* Custom Scrollbar - Minimal */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-white/10 rounded-full hover:bg-white/20 transition-colors;
  }

  /* --- Interstellar Black Hole (Gargantua) --- */
  .black-hole-container {
    perspective: 1500px;
    transform-style: preserve-3d;
  }

  /* 1. Main Accretion Disk - The flat spinning ring */
  .accretion-disk-base {
    /* Fiery Orange/Gold/White Gradient */
    background:
      radial-gradient(circle at center, transparent 40%, rgba(255, 240, 200, 0.8) 50%, transparent 68%),
      conic-gradient(from 0deg,
        transparent 0deg,
        rgba(255, 200, 100, 0.2) 60deg,
        rgba(255, 100, 50, 0.1) 120deg,
        rgba(255, 220, 150, 0.4) 180deg,
        rgba(255, 50, 0, 0.1) 240deg,
        rgba(255, 200, 100, 0.3) 300deg,
        transparent 360deg);
    background-blend-mode: screen;
    filter: blur(4px) contrast(1.1) brightness(1.1);
    opacity: 1;
    box-shadow: 0 0 60px rgba(255, 150, 50, 0.15);
    /* Soft outer glow */
  }

  /* 2. Turbulence - Detailed brighter streaks */
  .accretion-turbulence {
    background: conic-gradient(from 180deg,
        transparent 0deg,
        rgba(255, 255, 255, 0.9) 45deg,
        transparent 90deg,
        rgba(255, 200, 100, 0.5) 135deg,
        transparent 180deg,
        rgba(255, 255, 255, 0.9) 225deg,
        transparent 270deg,
        rgba(255, 200, 100, 0.5) 315deg,
        transparent 360deg);
    filter: blur(3px);
    mix-blend-mode: plus-lighter;
  }

  /* 3. Gravitational Lensing (The "Arch" over the top/bottom)
     This simulates the light from behind the black hole being bent over it.
  */
  .gravitational-arch {
    background: radial-gradient(circle at center, transparent 50%, rgba(255, 200, 100, 0.3) 60%, rgba(255, 100, 50, 0.6) 65%, rgba(255, 200, 100, 0.3) 70%, transparent 80%);
    filter: blur(12px) brightness(1.5);
    mix-blend-mode: screen;
    transform-style: preserve-3d;
  }

  /* The Photon Ring - The sharpest, brightest ring nearest the void */
  .photon-ring {
    box-shadow:
      inset 0 0 8px rgba(255, 255, 255, 1),
      0 0 15px rgba(255, 200, 150, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.9);
  }

  /* General Glow */
  .cosmic-glow {
    background: radial-gradient(circle, rgba(255, 150, 50, 0.15) 0%, transparent 70%);
  }

  @keyframes spin-slow {
    0% {
      transform: rotate(0deg);
    }

    100% {
      transform: rotate(360deg);
    }
  }
}